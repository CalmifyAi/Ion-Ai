<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Real‑Time Energy Usage Optimizer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg, #f8fafc, #eef2f7);
      color: #111827;
    }
    header {
      padding: 28px 20px;
      background: #ffffff;
      border-bottom: 1px solid #e5e7eb;
      text-align: center;
    }
    h1 { margin: 0; font-size: 2rem; }
    main {
      max-width: 1100px;
      margin: 40px auto;
      padding: 0 20px;
      display: grid;
      grid-template-columns: 1.1fr 0.9fr;
      gap: 24px;
    }
    .card {
      background: #ffffff;
      border-radius: 18px;
      padding: 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.06);
    }
    .card h2 { margin-top: 0; }
    label { margin-top: 14px; display:block; font-size:0.9rem; }
    input, select { margin-top:4px; }
    .value { font-weight:bold; }
    .metric {
      display:flex;
      justify-content:space-between;
      margin:10px 0;
      font-size:1rem;
    }
    canvas { width:100%; height:240px; }
    .saving { color:#16a34a; font-weight:bold; font-size:1.1rem; }
    footer { text-align:center; font-size:0.8rem; color:#6b7280; padding:30px; }
    @media (max-width:900px){ main{grid-template-columns:1fr;} }
  </style>
</head>
<body>

<header>
  <nav style="display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto;">
    <div style="font-weight:700;font-size:1.2rem;">Ion Ai</div>
    <div style="display:flex;gap:20px;font-size:0.9rem;opacity:0.9;">
      <span>Features</span>
      <span>How it Works</span>
      <span>Pricing</span>
    </div>
  </nav>
  <div style="max-width:1200px;margin:60px auto 20px;text-align:left;">
    <h1 style="font-size:2.8rem;max-width:520px;">Your Personal Energy Intelligence Platform</h1>
    <p style="max-width:520px;opacity:0.85;">Optimize home energy usage in real time using private, local AI — no smart meters, no cloud, no tracking.</p>
    <div style="margin-top:24px;display:flex;gap:14px;">
      <button id="startBtn" style="padding:12px 20px;border-radius:999px;border:none;background:#2563eb;color:white;font-weight:600;cursor:pointer;">Start Optimizing</button>
      <button id="learnBtn" style="padding:12px 20px;border-radius:999px;border:1px solid #e5e7eb;background:white;cursor:pointer;">Learn More</button>
    </div>
  </div>
</header>

<main>
  <div class="card">
    <h2>AI Optimization Output</h2>
    <div class="metric"><span>Estimated Usage</span><strong><span id="usage">–</span> kWh/day</strong></div>
    <div class="metric"><span>Estimated Cost</span><strong>$<span id="cost">–</span>/day</strong></div>
    <div class="metric saving"><span>Potential Savings</span>$<span id="savings">–</span>/month</div>

    <h3>Energy Pattern (24h)</h3>
    <canvas id="chart"></canvas>

    <h3>Smart Suggestions</h3>
    <ul id="tips"></ul>
  </div>
</main>

<footer>
  Runs entirely in your browser using heuristic AI logic.<br />
  No data leaves your device.
</footer>

<script>
  const devices = document.getElementById('devices');
  const hvac = document.getElementById('hvac');
  const priceEl = document.getElementById('price');
  const sizeEl = document.getElementById('size');
  const timeEl = document.getElementById('time');
  const chartEl = document.getElementById('chart');

  devices.oninput = () => devicesVal.textContent = devices.value;
  hvac.oninput = () => hvacVal.textContent = hvac.value + '%';

  const inputs = document.querySelectorAll('input, select');
  inputs.forEach(i => i.addEventListener('input', calculate));

  const ctx = chartEl.getContext('2d');

  function calculate() {
    const price = parseFloat(priceEl.value);
    const size = parseInt(sizeEl.value);
    const dev = parseInt(devices.value);
    const hv = parseInt(hvac.value);
    const time = timeEl.value;

    let baseUsage = size * 0.012 + dev * 0.8;
    let hvacLoad = hv * 0.15;
    let timeMultiplier = time === 'peak' ? 1.25 : time === 'mid' ? 1.1 : 0.9;

    let dailyUsage = (baseUsage + hvacLoad) * timeMultiplier;
    let optimizedUsage = dailyUsage * 0.78;
    let dailyCost = dailyUsage * price;
    let monthlySavings = (dailyUsage - optimizedUsage) * price * 30;

    usage.textContent = dailyUsage.toFixed(1);
    cost.textContent = dailyCost.toFixed(2);
    savings.textContent = monthlySavings.toFixed(2);

    storeHistory(dailyUsage);
    renderChart(dailyUsage, optimizedUsage);
    generateTips(dev, hv, time, dailyUsage);
  }

  function storeHistory(value) {
    let history = JSON.parse(localStorage.getItem('energyHistory') || '[]');
    history.push({ value, date: Date.now() });
    if (history.length > 7) history.shift();
    localStorage.setItem('energyHistory', JSON.stringify(history));
  }

  function renderChart(actual, optimized) {
    ctx.clearRect(0, 0, chartEl.width, chartEl.height);
    const hours = 24;
    const barWidth = chartEl.width / hours;

    for (let i = 0; i < hours; i++) {
      const noise = Math.random() * 0.3 + 0.85;
      const hActual = actual / hours * noise * 40;
      const hOpt = optimized / hours * noise * 40;

      ctx.fillStyle = '#e5e7eb';
      ctx.fillRect(i * barWidth, chartEl.height - hActual, barWidth - 2, hActual);

      ctx.fillStyle = '#16a34a';
      ctx.fillRect(i * barWidth, chartEl.height - hOpt, barWidth - 6, hOpt);
    }
  }

  function generateTips(dev, hv, time, usageVal) {
    tips.innerHTML = '';

    const history = JSON.parse(localStorage.getItem('energyHistory') || '[]');
    if (history.length >= 2) {
      const diff = history[history.length - 2].value - usageVal;
      if (diff > 0) addTip(`Your usage improved by ${diff.toFixed(1)} kWh since last session.`);
    }

    if (time === 'peak') addTip('Shift heavy usage to off-peak hours for instant savings.');
    if (hv > 70) addTip('Lower HVAC by 5–10% to reduce energy spikes.');
    if (dev > 10) addTip('Use smart power strips to cut standby energy.');
    addTip('AI recommends spreading high-load tasks across the day.');
  }

  function addTip(text) {
    const li = document.createElement('li');
    li.textContent = text;
    tips.appendChild(li);
  }

  calculate();

  // Button interactions
  document.getElementById('startBtn').onclick = () => {
    document.querySelector('main').scrollIntoView({ behavior: 'smooth' });
  };

  document.getElementById('learnBtn').onclick = () => {
    alert('EnergiAI helps you reduce energy costs using private, local AI — no cloud, no tracking, no hardware required.');
  };
</script>

</body>
</html>
